var orderLink=document.querySelector(".button-about-contacts"),orderPopup=document.querySelector(".popup-order");if(orderPopup)var orderClose=orderPopup.querySelector(".popup-order-close"),orderForm=orderPopup.querySelector(".order-form"),userNameInput=orderPopup.querySelector(".user-username-input"),userEmailInput=orderPopup.querySelector(".user-email-input"),userCommentTextarea=orderPopup.querySelector(".user-comment-textarea");var cartLinks=document.querySelectorAll(".buy-botton"),cartPopup=document.querySelector(".popup-cart");if(cartPopup)var cartClose=cartPopup.querySelector(".button-close-cart"),buttonContinue=cartPopup.querySelector(".button-continue");var mapPopup=document.querySelector(".popup-map"),mapLink=document.querySelector(".interactive-map"),mapClose=document.querySelector(".button-close-map"),isStorageSupport=!0,username="",email="";try{username=localStorage.getItem("username"),email=localStorage.getItem("email"),username?(userNameInput.value=username,userEmailInput.focus()):userNameInput.focus(),email&&(userEmailInput.value=email)}catch(e){isStorageSupport=!1}orderLink&&orderLink.addEventListener("click",function(e){e.preventDefault(),orderPopup.classList.add("modal-show")}),orderClose&&orderClose.addEventListener("click",function(e){e.preventDefault(),orderPopup.classList.remove("modal-show"),orderPopup.classList.remove("modal-error")}),orderForm&&orderForm.addEventListener("submit",function(e){userNameInput.value&&userEmailInput.value&&userCommentTextarea.value?(localStorage.setItem("username",userNameInput.value),localStorage.setItem("email",userEmailInput.value)):(e.preventDefault(),orderPopup.classList.remove("modal-error"),orderPopup.offsetWidth=orderPopup.offsetWidth,orderPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&orderPopup.classList.contains("modal-show")&&(e.preventDefault(),orderPopup.classList.remove("modal-show"),orderPopup.classList.remove("modal-error"),orderPopup.classList.remove("modal-error"))});for(let e of cartLinks)e.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.add("modal-show")});cartClose.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show")}),buttonContinue&&buttonContinue.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&cartPopup.classList.contains("modal-show")&&(e.preventDefault(),cartPopup.classList.remove("modal-show"))}),mapLink&&mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose&&mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))});let sliders=document.getElementsByClassName("slider");for(let e of sliders){const o=e.querySelector(".slide-button-left"),t=e.querySelector(".slide-button-right"),r=e.querySelectorAll(".radio-control");o.addEventListener("click",()=>{moveLeft(e)}),t.addEventListener("click",()=>{moveRight(e)});let s=0;for(let o of r){const t=s;o.addEventListener("click",()=>{const r=e.querySelector(".radio-control-current"),s=e.querySelector(".promo-slide-current");r&&r.classList.remove("radio-control-current"),s&&s.classList.remove("promo-slide-current"),o.classList.add("radio-control-current"),e.querySelectorAll(".promo-slide")[t].classList.add("promo-slide-current")}),s+=1}setInterval(()=>{moveRight(e)},1e4)}function moveRight(e){const o=e.querySelectorAll(".promo-slide");let t=0,r=-1,s=-1;for(let e of o)e.classList.contains("promo-slide-current")&&(r=t),t+=1,e.classList.remove("promo-slide-current");o[s=r===o.length-1?0:r+1].classList.add("promo-slide-current"),setActiveButton(e,s)}function moveLeft(e){const o=e.querySelectorAll(".promo-slide");let t=0,r=o.length,s=o.length;for(let e of o)e.classList.contains("promo-slide-current")&&(r=t),t+=1,e.classList.remove("promo-slide-current");o[s=0===r?o.length-1:r-1].classList.add("promo-slide-current"),setActiveButton(e,s)}function setActiveButton(e,o){const t=e.querySelectorAll(".radio-control");let r=0;for(let e of t)e.classList.remove("radio-control-current"),r===o&&e.classList.add("radio-control-current"),r+=1}const tabsBlocks=document.getElementsByClassName("main-service-block");let i=0;for(const e of tabsBlocks){const o=e.getElementsByClassName("tabs-button");for(const t of o){const o=i;t.addEventListener("click",()=>{const r=e.querySelector(".tabs-button-current"),s=e.querySelector(".content-block-current");r&&r.classList.remove("tabs-button-current"),s&&s.classList.remove("content-block-current"),t.classList.add("tabs-button-current"),e.querySelectorAll(".content-block")[o].classList.add("content-block-current")}),i+=1}}
